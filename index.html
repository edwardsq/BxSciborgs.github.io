<!DOCTYPE html>
<html ng-app="Dashboard">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width">
      <title>Sciborgs Website</title>
      <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.4/nv.d3.css">
      <script src="js/FirebaseHandler.js"></script>
      <script src="bower_components/angular/angular.min.js"></script>
      <script src="bower_components/angular-animate/angular-animate.min.js"></script>
      <script src="bower_components/angular-aria/angular-aria.min.js"></script>
      <script src="bower_components/angular-material/angular-material.min.js"></script>
      <script src="bower_components/angular-messages/angular-messages.min.js"></script>
      <script src="bower_components/angular-touch/angular-touch.min.js"></script>
      <script src="bower_components/d3/d3.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.4/nv.d3.js"></script>
      <script src="bower_components/angular-nvd3/dist/angular-nvd3.js"></script>
   </head>
   <body>
     <div class="container">
       <div class="page-header">
         <h1>Firebase Sample</h1>
       </div>
     </div>
     <div class="container row">
         <div class="col-xs-12">
             <h2>Instructions:</h2>
             <ul>
                 <li>Create a firebase application on the <a href="https://console.firebase.google.com" target="blank">console</a></li>
                 <li>Replace the information marked as &lt;REPLACE ME&gt; with the correct information from the project's console</li>
             </ul>
             <h2>Todo:</h2>
             <p><strong><a href="https://www.firebase.com/docs/web/guide/user-auth.html">Add User Login</a></strong></p>
             <p><strong><a href="https://www.firebase.com/docs/security/guide/user-security.html">Add Security Rules</a></strong></p>
         </div>
     </div>
     <div class="container row">
       <div class="col-xs-12">
         <div class="form">
           <form action="" class="form">
             <div class="control-group">
               <label for="first_name">Name</label>
               <input type="text" name="first_name">
             </div>
             <div>
               <button class="submit btn btn-primary">Save</button>
             </div>
           </form>
         </div>
       </div>
     </div>
     <script src="https://www.gstatic.com/firebasejs/3.0.2/firebase.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.js"></script>
     <script>
     $.fn.getFormData = function() {
       var fields = this.find('[name]');
       var result = {};
       $.each(fields, function (i, el) {
         result[el.name] = el.value;
       });
       return result;
     };
   var config = {
     apiKey: "AIzaSyCmxZbtAWv6JqgM2NqtSqQsm67BFcHoPfY",
     authDomain: "sciborgs-scouting-app.firebaseapp.com",
     databaseURL: "https://sciborgs-scouting-app.firebaseio.com",
     projectId: "sciborgs-scouting-app",
     storageBucket: "sciborgs-scouting-app.appspot.com",
     messagingSenderId: "372162650684"
   };
       var fb = firebase.initializeApp(config);
       var user_id;
       $('.submit').on('click', function (e) {
         e.preventDefault();
         var updates = {};
         user_id = user_id ? user_id : fb.database().ref().child('user-data').push().key;
         updates[user_id] = $('form').getFormData();
         fb.database().ref().child('user-data').update(updates);
       });
     </script>
   </body>
 </html>
